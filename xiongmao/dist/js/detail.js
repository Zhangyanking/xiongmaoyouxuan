"use strict";var _createClass=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Enlarge=function(){function e(t){_classCallCheck(this,e),this.centerEvl=document.querySelector(t),this.pictureEvl=this.centerEvl.querySelector(".picture"),this.pictureImgEvl=this.centerEvl.querySelector(".picture>img"),this.coverEvl=this.centerEvl.querySelector(".cover"),this.rightEvl=this.centerEvl.querySelector(".right"),this.rightimgEvl=this.centerEvl.querySelector(".right>img"),this.listEvl=this.centerEvl.querySelector(".list"),this.listImgEvl=this.centerEvl.querySelectorAll(".list>img"),this.listImgEvlFirst=this.listEvl.firstElementChild}return _createClass(e,[{key:"move",value:function(){var o=this;this.pictureEvl.onmousemove=function(t){var e=(t=t||window.event).offsetX-o.coverEvl.offsetWidth/2,i=t.offsetY-o.coverEvl.offsetHeight/2;(e=e<0?0:e)>o.pictureEvl.offsetWidth-o.coverEvl.offsetWidth&&(e=o.pictureEvl.offsetWidth-o.coverEvl.offsetWidth),(i=i<0?0:i)>o.pictureEvl.offsetHeight-o.coverEvl.offsetHeight&&(i=o.pictureEvl.offsetHeight-o.coverEvl.offsetHeight),o.coverEvl.style.left=e+"px",o.coverEvl.style.top=i+"px";var r=o.pictureEvl.offsetWidth/o.coverEvl.offsetWidth,l=o.pictureEvl.offsetHeight/o.coverEvl.offsetHeight,s=o.rightEvl.offsetWidth*r,t=o.rightEvl.offsetHeight*l;o.rightimgEvl.style.width=s+"px",o.rightimgEvl.style.height=t+"px";i=l*i*-1;o.rightimgEvl.style.left=r*e*-1+"px",o.rightimgEvl.style.top=i+"px"},this.pictureEvl.onmouseover=function(){var t=o.pictureImgEvl.getAttribute("src");o.rightimgEvl.setAttribute("src",t),o.coverEvl.style.display="block",o.rightEvl.style.display="block"},this.pictureEvl.onmouseout=function(){o.coverEvl.style.display="none",o.rightEvl.style.display="none"}}},{key:"switch",value:function(){var e=this;this.listEvl.addEventListener("click",function(t){t=(t=t||window.event).target||t.srcElement;transfer.eliminate();t=t.getAttribute("src");e.pictureImgEvl.setAttribute("src",t),e.rightimgEvl.setAttribute("src",t)})}},{key:"eliminate",value:function(){for(var t=0;t<this.listImgEvl.length;t++)this.listImgEvl[t].classList.remove("p1")}},{key:"dataUrl",value:function(){var t=location.href,e=t.indexOf("?");return t.substring(e+1).split("=")[1]}},{key:"data",value:function(){var t=transfer.dataUrl();$.ajax({type:"get",url:"https://www.xiongmaoyouxuan.com/api/detail",data:{id:t},success:function(t){var e=t.data.detail,i=t.data.detail.photo,t=i[0].url;$(".picture>img").attr("src",t);i=template("index-1",{photoForm:i});$(".list").html(i),$(".photo").html(i);e=template("index-2",e);$(".text>.box2").html(e)},error:function(t){alert("网络错误")}})}},{key:"bcakTop",value:function(){$(window).scroll(function(){50<$(document).scrollTop()?$("#top").css("display","block"):$("#top").css("display","none")}),$("#top").on("click",function(){$("html,body").animate({scrollTop:0},500)})}}]),e}(),transfer=new Enlarge("#conten");function extract(){location.href="../pages/Shopping.html?id="+transfer.dataUrl()}transfer.move(),transfer.switch(),transfer.dataUrl(),transfer.data(),transfer.bcakTop();